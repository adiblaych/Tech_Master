<div class="panel-header "></div>

<div class="main-content">
    <div class="row">
        <div class="col-md-12" *ngIf="showLanguage">
            <div class="card">
                <div class="card-header">
                    <h5 class="title">Choose Language</h5>
                </div>

                <div class="card-body">
                    <div role="form" class="lenForm">
                        <div class="form-group">
                            <label>Selects language</label>

                            <select class="form-control" [(ngModel)]="selectedLang" (change)="getSubLang()">
                                <option *ngFor="let Plang of PlangList" [ngValue]="Plang">{{Plang.primaryName}}</option>
                            </select>
                        </div>

                        <button type="submit" class="btn btn-secondary" (click)="updateTest()">Choose</button>
                        <button type="reset" class="btn btn-secondary" (click)="resetLang()">Reset</button>
                    </div>
                </div>
            </div>
        </div>

        <div *ngIf="showTest" class="col-md-12">
            <div class="card">
                <div class="card-header">
                    <h4 class="title">{{langName}}</h4><br>
                    <p class="category">{{foreword}}</p>
                </div>

                <div class="card-body">
                    <div>
                        <tabset>
                            <tab name="easy" heading="Easy" id="tab1" (select)="setLevel(1)"></tab>
                            <tab name="medium" heading="Middle" id="tab2" (select)="setLevel(2)"></tab>
                            <tab name="hard" heading="Hard" id="tab3" (select)="setLevel(3)"></tab>
                        </tabset>
                    </div>
                    
                    <div class="input-demo radio-demo">
                        <form>
                            <label class="question">{{index}}. {{currentQuiz?.questionText}}</label>
                            <div *ngFor="let ans of answersByQuestion; index as i">
                                <label>
                                    <input id={{i}} [(ngModel)]="answersTest" name="inlineRadioOptions" type="radio" [value]="ans" required>
                                    {{ans.answerText}}
                                </label>
                            </div>

                            <button *ngIf="ngIf" class="btn btn-secondary" (click)="nextQuestion()">Next</button>
                            <button *ngIf="!ngIf" class="btn btn-secondary" (click)="showResult()">Finish</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>

        <!-- <label *ngIf="!ngIf">ענית נכון על {{numTrue}} מתוך {{numQst}} שאלות</label> -->

        <form *ngIf="showAns">
            <div *ngFor="let qst of questionsByLang; index as i">
                <label>{{qst.questionText}}</label>

                <div *ngFor="let ans of allAnswers; index as i">
                        <input type="checkbox" *ngIf="(ans.questionID == qst.questionID)" id={{i}} name="inlineRadioOptions" [checked]="ans.correctAnswer">
                        <label *ngIf="(ans.questionID == qst.questionID)" [class.correct]="ans.correctAnswer">{{ans.answerText}}</label>
                </div>
            </div>
        </form>
    </div>
</div>